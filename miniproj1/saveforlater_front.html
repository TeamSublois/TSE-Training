<!DOCTYPE html>
<html>
	<head>
		<title>Save it Later</title>
		<link rel="stylesheet" type="text/css" href="front.css" />
	</head>
	<body>
		<div id="saveList" class="header">
			<h2>Save it Later</h2>
			<input type="text" id="myInput">
			<span onclick="newElement()" class="addBtn">Add</span>
		</div>

		<ul id="myUL">
		</ul>

		<script>
			var myNodeList = document.getElementsByTagName("LI");
			var i;
			for (i = 0; i < myNodeList.length; i++) {
				var span = document.createElement("SPAN");
				var txt = document.createTextNode("\u00D7");
				span.className = "close";
				span.appendChild(txt);
				myNodeList[i].appendChild(span);
			}

			var close = document.getElementsByClassName("close");
			var i;
			for (i = 0; i < close.length; i++) {
				close[i].onclick = function() {
					var div = this.parentElement;
					div.style.display = "none";
				}
			}

			var list = document.querySelector('ul');
			list.addEventListener('click', function(ev) {
				if (ev.target.tagName === 'LI') {
					ev.target.classList.toggle('checked');
				}
			}, false);

			function newElement() {
				var li = document.createElement("li");
				var inputValue = document.getElementById("myInput").value;
				var a = document.createElement("a");
				var t = document.createTextNode(inputValue);
				li.appendChild(t);
				if (inputValue === '') {
					alert("You must link something!");
				} else {
					a.href = inputValue;
					a.target = "_blank";
					a.appendChild(t);
					document.getElementById("myUL").appendChild(li);
				}
				document.getElementById("myInput").value = "";

				var span = document.createElement("SPAN");
				var txt = document.createTextNode("\u00D7");
				span.className = "close";
				span.appendChild(txt);
				li.appendChild(a);
				li.appendChild(span);

				for (i = 0; i < close.length; i++) {
					close[i].onclick = function() {
						var div = this.parentElement;
						div.style.display = "none";
					}
				}
			}
		</script>
	</body>
</html>